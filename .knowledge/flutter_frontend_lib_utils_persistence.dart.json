{"is_source_file": true, "format": "Dart", "description": "A Dart class 'Persistence' that provides utility methods for storing and retrieving simple key-value flags using SharedPreferences in a Flutter application. It centralizes preference keys and includes methods for boolean preferences, specifically handling user's last attribution choice.", "external_files": ["package:flutter/foundation.dart", "package:shared_preferences/shared_preferences.dart"], "external_methods": ["SharedPreferences.getInstance", "SharedPreferences.containsKey", "SharedPreferences.getBool", "SharedPreferences.setBool"], "published": ["Persistence"], "classes": [{"name": "Persistence", "description": "A helper class for managing simple persistent storage of user flags and preferences using Flutter's SharedPreferences."}], "methods": [{"name": "getBool", "description": "Asynchronously retrieves a boolean value for a given key from SharedPreferences. Returns null if the key does not exist or an error occurs."}, {"name": "setBool", "description": "Asynchronously sets a boolean value for a given key in SharedPreferences. Returns true if the operation succeeds."}, {"name": "getLastAttributionChoice", "description": "Retrieves the user's last attribution choice (anonymous or attributed) for posting stories. Returns null if no preference is saved or on error."}, {"name": "setLastAttributionChoice", "description": "Stores the user's last attribution choice (true for anonymous, false for attributed) in SharedPreferences."}], "calls": ["SharedPreferences.getInstance", "SharedPreferences.containsKey", "SharedPreferences.getBool", "SharedPreferences.setBool"], "search-terms": ["shared preferences", "persistence helper", "last attribution choice", "Flutter shared preferences", "preferences utility", "storage error handling", "simple key-value storage"], "state": 2, "file_id": 28, "knowledge_revision": 76, "git_revision": "", "hash": "4a90aa133624c06d0d7e8be247a45b68", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/utils/persistence.dart", "revision_history": [{"76": ""}]}