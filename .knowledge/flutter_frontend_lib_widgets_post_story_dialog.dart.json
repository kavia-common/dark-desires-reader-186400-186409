{"is_source_file": true, "format": "Dart", "description": "A Flutter widget implementing a modal dialog for posting a new story, including content input, anonymous toggle, author input, and submission handling with provider state updates.", "external_files": ["package:flutter/material.dart", "package:provider/provider.dart", "package:flutter_frontend/models/story.dart", "package:flutter_frontend/providers/story_feed_provider.dart"], "external_methods": ["Provider.read", "Provider.watch", "StoryFeedProvider.addStoryAtTop", "StoryFeedProvider.setLastAttributionChoice", "Navigator.of", "BuildContext.pop"], "published": ["PostStoryDialog"], "classes": [{"name": "PostStoryDialog", "description": "A StatefulWidget providing a modal dialog to create and submit a new story."}, {"name": "_PostStoryDialogState", "description": "State class managing the form, input controllers, and submission logic for PostStoryDialog."}], "methods": [{"name": "build", "description": "Builds the dialog UI with input fields, toggle, and actions."}, {"name": "_validateContent", "description": "Validates the story content for non-empty and minimum length."}, {"name": "_validateAuthor", "description": "Validates the author name input if not anonymous."}, {"name": "_onAnonymousChanged", "description": "Updates the anonymous toggle state."}, {"name": "_handleSubmit", "description": "Handles form validation, creates a Story object, updates provider state, persists attribution choice, and closes the dialog."}], "calls": ["Theme.of", "Navigator.of", "context.read<StoryFeedProvider>()", "context.watch<StoryFeedProvider>()", "feed.addStoryAtTop", "feed.setLastAttributionChoice", "navigator.pop"], "search-terms": ["PostStoryDialog", "story content input", "anonymous toggle", "story submission", "provider state update", "storybook story creation Flutter"], "state": 2, "file_id": 25, "knowledge_revision": 68, "git_revision": "", "revision_history": [{"65": ""}, {"68": ""}], "hash": "b61b58f2fd86a29e9b6fc000929590cb", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/widgets/post_story_dialog.dart"}