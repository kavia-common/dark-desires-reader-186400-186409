{"is_source_file": true, "format": "Dart", "description": "This file defines a Flutter widget `PostStoryDialog` that provides a user interface for posting new stories. It includes form validation, state management, interaction with a provider `StoryFeedProvider`, and UI elements such as text fields, switches, and buttons. It handles story creation, attribution preferences, and submission process.", "external_files": ["package:flutter/material.dart", "package:provider/provider.dart", "package:flutter_frontend/models/story.dart", "package:flutter_frontend/providers/story_feed_provider.dart"], "external_methods": ["Provider.read()", "Provider.watch()", "StoryFeedProvider.addStoryAtTop()", "StoryFeedProvider.setLastAttributionChoice()"], "published": ["PostStoryDialog"], "classes": [{"name": "PostStoryDialog", "description": "A modal dialog widget that allows users to compose and submit a new story with optional anonymous attribution."}], "methods": [{"name": "createState", "description": "Creates the mutable state for the widget `_PostStoryDialogState`."}, {"name": "dispose", "description": "Disposes of the text controllers to free resources."}, {"name": "_validateContent", "description": "Validates the story content ensuring it is not empty and meets minimum length."}, {"name": "_validateAuthor", "description": "Validates the author name if not posting anonymously."}, {"name": "_onAnonymousChanged", "description": "Updates anonymous toggle state."}, {"name": "_handleSubmit", "description": "Handles the form submission: validation, creating a story instance, updating provider, and closing the dialog."}], "calls": ["context.read<StoryFeedProvider>()", "context.watch<StoryFeedProvider>()", "Navigator.of(context).pop()"], "search-terms": ["PostStoryDialog", "story content input", "anonymous switch", "story provider", "story submission", "Flutter modal dialog", "story validation"], "state": 2, "file_id": 25, "knowledge_revision": 65, "git_revision": "", "hash": "9475a91ebc281277cd590e6b8df65397", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/widgets/post_story_dialog.dart", "revision_history": [{"65": ""}]}