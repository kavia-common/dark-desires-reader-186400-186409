{"is_source_file": true, "format": "Dart", "description": "This file defines the StoryFeedProvider class, which manages a list of stories in a Flutter application. It handles initializing the feed with dummy data, shuffling stories, tracking the current story, user preferences, and recording interactions such as likes/dislikes. It also persists user preferences using SharedPreferences.", "external_files": ["package:flutter/foundation.dart", "package:shared_preferences/shared_preferences.dart", "package:flutter_frontend/models/story.dart", "package:flutter_frontend/data/dummy_stories.dart"], "external_methods": ["SharedPreferences.getInstance", "SharedPreferences.containsKey", "SharedPreferences.getBool", "SharedPreferences.setBool"], "published": ["StoryFeedProvider"], "classes": [{"name": "_PrefsKeys", "description": "A utility class that defines keys used for SharedPreferences storage to persist user choices."}, {"name": "StoryFeedProvider", "description": "A ChangeNotifier that manages the story feed's state, including loading stories, user interactions, and preferences."}], "methods": [{"name": "initializeIfNeeded", "description": "Initializes the provider by loading dummy stories, shuffling them, and fetching persisted user preferences."}, {"name": "swipeRightLike", "description": "Records a like on the current story and advances the feed."}, {"name": "swipeLeftDislike", "description": "Records a dislike on the current story and advances the feed."}, {"name": "addStoryAtTop", "description": "Adds a new story to the top of the feed and sets it as the current story."}, {"name": "reloadAndReshuffle", "description": "Resets the story list to dummy data and reshuffles the order."}, {"name": "setLastAttributionChoice", "description": "Sets and persists the user's last attribution choice."}, {"name": "_advance", "description": "Moves the current story pointer to the next story, reshuffling if needed."}, {"name": "_reshuffleInPlace", "description": "Implements Fisher\u2013Yates shuffle to randomize the order of stories."}], "calls": ["SharedPreferences.getInstance", "SharedPreferences.containsKey", "SharedPreferences.getBool", "SharedPreferences.setBool", "notifyListeners"], "search-terms": ["StoryFeedProvider", "dummyStories", "lastAttributionChoice", "shuffle", "initializeIfNeeded", "likes", "dislikes", "story list"], "state": 2, "file_id": 22, "knowledge_revision": 53, "git_revision": "", "hash": "b621c1c15ac806c1d5f626d595ad853d", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/providers/story_feed_provider.dart", "revision_history": [{"53": ""}]}