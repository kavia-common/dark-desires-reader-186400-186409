{"is_source_file": true, "format": "Dart", "description": "This Dart source file defines the `StoryFeedProvider` class, which manages a list of `Story` objects, handles user interactions such as liking or disliking stories, manages the current story index, persists user preferences, and provides mechanisms to initialize, reshuffle, and update the story feed for a Flutter application.", "external_files": ["package:flutter/foundation.dart", "package:flutter_frontend/models/story.dart", "package:flutter_frontend/data/dummy_stories.dart", "package:flutter_frontend/utils/persistence.dart"], "external_methods": ["Persistence.getLastAttributionChoice", "Persistence.setLastAttributionChoice"], "published": ["isInitialized", "currentIndex", "currentStory", "stories", "lastAttributionChoice", "initializeIfNeeded", "swipeRightLike", "swipeLeftDislike", "addStoryAtTop", "reloadAndReshuffle", "setLastAttributionChoice"], "classes": [{"name": "StoryFeedProvider", "description": "A provider class extending ChangeNotifier that manages the state of a story feed, including story list management, user interactions, persistence of preferences, and story reshuffling."}], "methods": [{"name": "initializeIfNeeded", "description": "Initializes the story feed by loading dummy stories, shuffling them, and retrieving persisted user preferences; safe to call multiple times."}, {"name": "swipeRightLike", "description": "Records a like on the current story and advances to the next story."}, {"name": "swipeLeftDislike", "description": "Records a dislike on the current story and advances to the next story."}, {"name": "addStoryAtTop", "description": "Inserts a new story at the top of the feed and sets it as the current story."}, {"name": "reloadAndReshuffle", "description": "Reloads initial dummy stories and shuffles their order, resetting current story index."}, {"name": "setLastAttributionChoice", "description": "Sets and persists the user's attribution choice."}, {"name": "_advance", "description": "Moves the current story index forward, reshuffling if the end is reached."}, {"name": "_reshuffleInPlace", "description": "Performs an in-place Fisher\u2013Yates shuffle on the stories list."}], "calls": ["Persistence.getLastAttributionChoice", "Persistence.setLastAttributionChoice"], "search-terms": ["StoryFeedProvider", "dummyStories", "reshuffle", "attribution", "Story", "feed", "swipeLeft", "swipeRight", "story list management"], "state": 2, "file_id": 22, "knowledge_revision": 75, "git_revision": "", "revision_history": [{"53": ""}, {"75": ""}], "hash": "3decfec3f91e973fceb812e31101a730", "format-version": 4, "code-base-name": "flutter_frontend", "filename": "flutter_frontend/lib/providers/story_feed_provider.dart"}